(this["webpackJsonpomp-frontend"]=this["webpackJsonpomp-frontend"]||[]).push([[0],{101:function(e){e.exports=JSON.parse('{"customer_name":null,"project_name":null,"description":null,"location":null,"start_date":null,"end_date":null,"archive_date":null,"engagement_lead_name":null,"engagement_lead_email":null,"technical_lead_name":null,"technical_lead_email":null,"customer_contact_name":null,"customer_contact_email":null,"ocp_cloud_provider_name":null,"ocp_cloud_provider_region":null,"ocp_version":null,"ocp_sub_domain":null,"ocp_persistent_storage_size":null,"ocp_cluster_size":null}')},108:function(e,a,t){e.exports=t(185)},185:function(e,a,t){"use strict";t.r(a);var n=t(1),l=t.n(n),r=t(45),o=t.n(r),c=t(40),i=(t(113),t(62)),s=t(209),d=t(205),m=t(206),u=t(207),p=t(200),_=t(197),h=t(210),b=t(189),y=t(198),g=t(199),v=t(187),E=function(e){var a=e.values,t=e.onChange;return l.a.createElement(_.a,{isHorizontal:!0},l.a.createElement(h.a,{label:"Customer Name",fieldId:"customer-name",helperText:"The client this residency is for",isRequired:!0},l.a.createElement(b.a,{type:"text",id:"customer_name",name:"customer_name",value:a.customer_name,onChange:function(e){return t({type:"customer_name",payload:e})}})),l.a.createElement(h.a,{label:"Project Name",fieldId:"project-name",helperText:"The solution being worked on during the residency",isRequired:!0},l.a.createElement(b.a,{type:"text",id:"project_name",name:"project_name",value:a.project_name,onChange:function(e){return t({type:"project_name",payload:e})}})),l.a.createElement(h.a,{label:"Location",fieldId:"residency-location",helperText:"Where this residency will be held",isRequired:!0},l.a.createElement(b.a,{type:"text",id:"location",name:"location",value:a.location,onChange:function(e){return t({type:"location",payload:e})}})),l.a.createElement(h.a,{label:"Residency Dates",fieldId:"residency-dates",helperText:"The the start and end dates of this residency",isRequired:!0},l.a.createElement(y.a,{label:"Residency Duration"},l.a.createElement(g.a,{component:"label",htmlFor:"residency-duration"},l.a.createElement(p.a,null)),l.a.createElement(b.a,{name:"start_date",id:"start_date",type:"date","aria-label":"Residency start date",value:a.start_date,onChange:function(e){return t({type:"start_date",payload:e})}}),l.a.createElement(b.a,{name:"end_date",id:"end_date",type:"date","aria-label":"Residency end date",value:a.end_date,onChange:function(e){return t({type:"end_date",payload:e})}}))),l.a.createElement(h.a,{label:"Description",fieldId:"description"},l.a.createElement(v.a,{name:"description",id:"description","aria-label":"residency description",value:a.description,onChange:function(e){return t({type:"description",payload:e})}})))},f=t(186),j=t(201),C=t(60),O=t.n(C),R=t(99),w=t.n(R),I=function(e){var a=e.options,t=e.values,n=e.onChange;return l.a.createElement(_.a,{isHorizontal:!0},l.a.createElement(h.a,{fieldId:"cloud-provider",label:"Cloud Provider",isRequired:!0},l.a.createElement(f.a,{"aria-label":"Cloud Provider",isDisabled:1===a.providers.length,value:t.ocp_cloud_provider_name,onChange:function(e){return n({type:"ocp_cloud_provider_name",payload:e})}},a.providers.map((function(e,a){return l.a.createElement(j.a,{isDisabled:e.disabled,key:a,value:e.value,label:e.label})})))),l.a.createElement(h.a,{label:"Provider Region",isRequired:!0,fieldId:"cloud-provider-region"},t.ocp_cloud_provider_name?l.a.createElement(f.a,{"aria-label":"Cloud provider region",value:t.ocp_cloud_provider_region,onChange:function(e){return n({type:"ocp_cloud_provider_region",payload:e})}},w()(a.providers,{value:t.ocp_cloud_provider_name}).regions.map((function(e,a){return l.a.createElement(j.a,{isDisabled:e.disabled,key:a,value:e.value,label:e.label})}))):null),l.a.createElement(h.a,{label:"OpenShift Version",isRequired:!0,fieldId:"openshift-provider"},l.a.createElement(f.a,{"aria-label":"OpenShift Version",value:t.ocp_version,isDisabled:1===a.openshift.versions.length,onChange:function(e){return n({type:"ocp_version",payload:e})}},a.openshift.versions.map((function(e,a){return l.a.createElement(j.a,{isDisabled:e.disabled,key:a,value:e.value,label:e.label})})))),l.a.createElement(h.a,{label:"Desired Subdomain",isRequired:!0,fieldId:"subdomain",helperText:l.a.createElement("div",null,"Applications will live at:",l.a.createElement("strong",null,"".concat(t.ocp_sub_domain?O()(t.ocp_sub_domain):"<desired-subdomain>",".rht-labs.com")))},l.a.createElement(b.a,{isRequired:!0,type:"text",id:"ocp_sub_domain",name:"ocp_sub_domain",value:t.ocp_sub_domain,onChange:function(e){return n({type:"ocp_sub_domain",payload:e})}})),l.a.createElement(h.a,{label:"Persistent Storage Needs",isRequired:!0,fieldId:"persistent-storage-needs"},l.a.createElement(f.a,{"aria-label":"Persistent Storage Needs",isDisabled:1===a.openshift["persistent-storage"].length,onChange:function(e){return n({type:"ocp_persistent_storage_size",payload:e})},value:t.ocp_persistent_storage_size},a.openshift["persistent-storage"].map((function(e,a){return l.a.createElement(j.a,{isDisabled:e.disabled,key:a,label:e.label,value:e.value})})))),l.a.createElement(h.a,{label:"Cluster Size",isRequired:!0,fieldId:"cluster-size"},l.a.createElement(f.a,{"aria-label":"Cluster Size",value:t.ocp_cluster_size,isDisabled:1===a.openshift["cluster-size"].length,onChange:function(e){return n({type:"ocp_cluster_size",payload:e})}},a.openshift["cluster-size"].map((function(e,a){return l.a.createElement(j.a,{isDisabled:e.disabled,key:a,label:e.label,value:e.value})})))))},z=t(202),D=t(203),x=function(e){var a=e.values,t=e.onChange;return l.a.createElement(_.a,{isHorizontal:!0},l.a.createElement(h.a,{fieldId:"engagement_lead",helperText:"Who is the Engagement Lead on this residency?",isRequired:!0,label:"Labs EL"},l.a.createElement(y.a,null,l.a.createElement(g.a,{component:"label",htmlFor:"engagement-lead"},l.a.createElement(z.a,null)),l.a.createElement(b.a,{"aria-label":"Engagement lead name",id:"name",name:"engagement-lead-name",onChange:function(e){return t({type:"engagement_lead_name",payload:e})},placeholder:"Name",type:"text",value:a.engagement_lead_name}),l.a.createElement(g.a,{component:"label",htmlFor:"engagement-lead-email"},l.a.createElement(D.a,null)),l.a.createElement(b.a,{"aria-label":"engagement lead email",id:"email",name:"engagement-lead-email",onChange:function(e){return t({type:"engagement_lead_email",payload:e})},placeholder:"Email Address",type:"email",value:a.engagement_lead_email}))),l.a.createElement(h.a,{fieldId:"technical_lead",isRequired:!0,helperText:"Who is the Tech Lead on this residency?",label:"Labs Technical Lead"},l.a.createElement(y.a,{label:"Labs Tech Lead"},l.a.createElement(g.a,{component:"label",htmlFor:"tech-lead-name"},l.a.createElement(z.a,null)),l.a.createElement(b.a,{"aria-label":"Tech lead name",id:"tech-lead-name",name:"tech-lead-name",onChange:function(e){return t({type:"technical_lead_name",payload:e})},placeholder:"Name",type:"text",value:a.technical_lead_name}),l.a.createElement(g.a,{component:"label",htmlFor:"tech-lead-email"},l.a.createElement(D.a,null)),l.a.createElement(b.a,{"aria-label":"tech lead email",id:"tech-lead-email",name:"tech-lead-email",onChange:function(e){return t({type:"technical_lead_email",payload:e})},placeholder:"Email Address",type:"email",value:a.technical_lead_emails}))),l.a.createElement(h.a,{fieldId:"customer-contact",helperText:"Who is the main point of contact for the customer?",isRequired:!0,label:"Customer Contact"},l.a.createElement(y.a,{label:"Customer Contact"},l.a.createElement(g.a,{component:"label",htmlFor:"customer-contact-name"},l.a.createElement(z.a,null)),l.a.createElement(b.a,{"aria-label":"Customer contact name",id:"customer-contact-name",name:"customer-contact-name",onChange:function(e){return t({type:"customer_contact_name",payload:e})},type:"text",placeholder:"Name",value:a.customer_contact_name}),l.a.createElement(g.a,{component:"label",htmlFor:"customer-contact-email"},l.a.createElement(D.a,null)),l.a.createElement(b.a,{"aria-label":"customer contact email",id:"customer-contact-email",name:"customer-contact-email",onChange:function(e){return t({type:"customer_contact_email",payload:e})},placeholder:"Email Address",type:"email",value:a.customer_contact_email}))))},N=t(204),L=t(208),T=t(61),q=t.n(T),k=function(e,a){if(e&&e[a])return e[a]=O()(e[a],{lower:!0}),e;if(e&&!e[a])return e;throw new Error("Object and Property Required")},S=function(e){var a=e.values,t=Object(n.useState)(!1),r=Object(c.a)(t,2),o=r[0],i=r[1],s=Object(n.useState)(null),d=Object(c.a)(s,2),m=d[0],u=d[1],p=Object(n.useState)(null),_=Object(c.a)(p,2),h=_[0],b=_[1];return l.a.createElement("div",{className:"pf-l-bullseye"},l.a.createElement("div",{className:"pf-c-empty-state pf-m-lg"},h?l.a.createElement("span",{"aria-label":"thumbs up emoji",role:"img",style:{fontSize:"5rem"}},"\ud83d\udc4d\ud83c\udffd"):l.a.createElement("span",{"aria-label":"rocket emoji",role:"img",style:{fontSize:"5rem"}},"\ud83d\ude80"),l.a.createElement("div",{className:"pf-c-empty-state__body"},l.a.createElement("h3",null,o?l.a.createElement("span",null,"This might take a minute. You may want to get a",l.a.createElement("span",{role:"img","aria-label":"coffee emoji"},"\u2615")):l.a.createElement("span",null,"We are about to launch your residency cluster with this information."))),h?l.a.createElement("div",{className:"pf-c-empty-state"},l.a.createElement(L.a,{isInline:!0,title:"You did it!",variant:"success"},l.a.createElement("div",null,"Your cluster should be ready soon at:",l.a.createElement("a",{href:"".concat(a.ocp_sub_domain,".rht-labs.com")},"".concat(a.ocp_sub_domain,".rht-labs.com"))))):l.a.createElement(N.a,{onClick:function(e){e.preventDefault(),i(!0),q()({method:"post",url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_BACKEND_URI,"/residencies"),data:k(a,"ocp_sub_domain")}).then((function(){b(!0)})).catch((function(e){u(e)})).finally((function(){i(!1)}))},isDisabled:o},o?"Launching...":"Let's Do It!"),m?l.a.createElement("div",{className:"pf-c-empty-state"},l.a.createElement(L.a,{isInline:!0,title:"We encountered an error.",variant:"danger"},m.statusText)):null))},P=function(){return l.a.createElement("div",{style:{display:"flex",justifyContent:"center",width:"100%"}},l.a.createElement("img",{style:{width:"50%"},src:"https://www.redhat.com/cms/managed-files/RHOIL_LogoBadge_RGB_Default.svg",alt:"Open Innovation Labs Logo"}))},W=t(15),A=function(e,a){switch(a.type){case"customer_name":return Object(W.a)({},e,{customer_name:a.payload});case"project_name":return Object(W.a)({},e,{project_name:a.payload});case"description":return Object(W.a)({},e,{description:a.payload});case"location":return Object(W.a)({},e,{location:a.payload});case"start_date":return Object(W.a)({},e,{start_date:a.payload});case"end_date":return Object(W.a)({},e,{end_date:a.payload});case"archive_date":return Object(W.a)({},e,{archive_date:a.payload});case"engagement_lead_name":return Object(W.a)({},e,{engagement_lead_name:a.payload});case"engagement_lead_email":return Object(W.a)({},e,{engagement_lead_email:a.payload});case"technical_lead_name":return Object(W.a)({},e,{technical_lead_name:a.payload});case"technical_lead_email":return Object(W.a)({},e,{technical_lead_email:a.payload});case"customer_contact_name":return Object(W.a)({},e,{customer_contact_name:a.payload});case"customer_contact_email":return Object(W.a)({},e,{customer_contact_email:a.payload});case"ocp_cloud_provider_name":return Object(W.a)({},e,{ocp_cloud_provider_name:a.payload});case"ocp_cloud_provider_region":return Object(W.a)({},e,{ocp_cloud_provider_region:a.payload});case"ocp_version":return Object(W.a)({},e,{ocp_version:a.payload});case"ocp_sub_domain":return Object(W.a)({},e,{ocp_sub_domain:a.payload});case"ocp_persistent_storage_size":return Object(W.a)({},e,{ocp_persistent_storage_size:a.payload});case"ocp_cluster_size":return Object(W.a)({},e,{ocp_cluster_size:a.payload});default:throw new Error}},B=t(101),F=t(102),H=t.n(F),J=function(){var e=Object(n.useReducer)(A,B),a=Object(c.a)(e,2),t=a[0],r=a[1],o=Object(n.useState)(null),p=Object(c.a)(o,2),_=p[0],h=p[1];return Object(n.useEffect)((function(){q.a.get("https://gist.githubusercontent.com/jacobsee/894ef91d9f8722c87a403bcca67ba305/raw/35ce8e2b6b76b1e69a5245acf1943389a2ad6c2c/lucas-test.yml").then((function(e){var a=H.a.parse(e.data);h(a),r({type:"ocp_cloud_provider_region",payload:a.providers[0].regions[0].value}),r({type:"ocp_cloud_provider_name",payload:a.providers[0].value}),r({type:"ocp_cluster_size",payload:a.openshift["cluster-size"][0].value}),r({type:"ocp_version",payload:a.openshift.versions[0].value})}))}),[]),l.a.createElement(i.a,{header:l.a.createElement(s.a,null),sidebar:l.a.createElement(d.a,{isNavOpen:!0,theme:"dark",nav:l.a.createElement(P,null)}),style:{height:"100vh"}},l.a.createElement(m.a,null,l.a.createElement("div",{className:"pf-c-content"},l.a.createElement("h2",null,"Residency Data Gathering"))),l.a.createElement(m.a,null,l.a.createElement(u.a,{isCompactNav:!0,isInPage:!0,footer:l.a.createElement("span",null),steps:[{name:"Basic Information",component:l.a.createElement(E,{values:t,onChange:r})},{name:"Point of Contact",component:l.a.createElement(x,{values:t,onChange:r})},{name:"Openshift Cluster",component:l.a.createElement(I,{options:_,values:t,onChange:r})},{name:"Launch Residency",component:l.a.createElement(S,{values:t,onChange:r})}]})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[108,1,2]]]);
//# sourceMappingURL=main.84dd87a5.chunk.js.map